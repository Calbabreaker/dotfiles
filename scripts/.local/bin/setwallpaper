#!/bin/bash

#
# Sets a wallpaper using hsetroot
# Specify no arguments to use the wallpaper that was set previous 
# Use sxiv as first argument to open all images with sxiv and select them
#

wallpaper_command_file=${XDG_DATA_HOME:-$HOME/.local/share}/wallpaper-command
if [ "$#" != "0" ]; then
    # use -cover by default
    [ "$#" = "1" ] && args="-cover $1" || args=${@:1}
    echo "cd $(pwd) && hsetroot $args" > $wallpaper_command_file
fi

[ ! -f $wallpaper_command_file ] && \
    notify-send "No wallpaper set\!" "Set a wallpaper using: setwallpaper {wallpaper-file} [hsetroot-opts]"

sh $wallpaper_command_file
